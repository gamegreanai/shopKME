{% load static %}

<style>
  /* üîπ Sidebar */
  .sidebar {
    width: 200px;
    background-color: #ffffff;
    border-right: 1px solid #ddd;
    min-height: 100vh;
    position: fixed;
    left: 0;
    top: 100px;
    z-index: 1040;
    overflow-y: auto;
    padding-bottom: 80px;
    transition: all 0.3s ease;
  }

  .sidebar-header {
    background-color: #ffffff;
    padding: 20px;
    border-bottom: 1px solid #eee;
    text-align: center;
  }

  .sidebar-header h5 {
    font-weight: bold;
    color: #ff008b;
    margin-bottom: 0;
  }

  .sidebar-header h4 {
    font-weight: bold;
    color: #ff008b;
    margin-top: 5px;
  }

  .sidebar-header small {
    font-size: 14px;
    color: #198754;
  }

  .sidebar-section {
    padding: 15px 0;
    border-bottom: 1px solid #eee;
  }

  .sidebar-section h6 {
    font-weight: bold;
    color: #555;
    font-size: 14px;
    margin-left: 15px;
    margin-bottom: 10px;
  }

  .sidebar a {
    display: flex;
    align-items: center;
    padding: 10px 20px;
    color: #333;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .sidebar a:hover,
  .sidebar a.active {
    background-color: #e9f8ec;
    color: #198754;
  }

  .sidebar a i {
    width: 25px;
    font-size: 18px;
    color: #ff008b;
    margin-right: 10px;
  }

  /* üîπ Logout Button */
  .logout-btn {
    margin: 15px;
    border: 2px solid #198754;
    color: #ffffff;
    font-weight: bold;
    border-radius: 25px;
    padding: 10px 0;
    transition: all 0.3s ease;
    text-align: center;
    text-decoration: none;
  }

  .logout-btn:hover {
    background-color: #198754;
    color: white;
  }

  /* üîπ Desktop (Sidebar + Main Content Alignment) */
  @media (min-width: 992px) {
    .main-content {
      margin-left: 200px; /* ‚úÖ ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö Sidebar */
      padding: 20px;
      transition: margin-left 0.3s ease;
    }

    :root {
      --pink-color: #ff008b;
    }

    .sidebar a,
    .sidebar-section h6,
    .logout-btn,
    .footer-menu a span,
    .footer-menu a i {
      color: var(--pink-color) !important;
    }

    .sidebar a:hover,
    .sidebar a.active {
      background-color: var(--pink-color) !important;
      color: white !important;
    }

    .sidebar a:hover i,
    .sidebar a.active i {
      color: white !important;
    }

    .logout-btn {
      border: 2px solid var(--pink-color) !important;
      color: var(--pink-color) !important;
    }

    .logout-btn:hover {
      background-color: var(--pink-color) !important;
      color: white !important;
    }

    .footer-menu a {
      color: var(--pink-color) !important;
    }

    .footer-menu a.active {
      background-color: var(--pink-color) !important;
      color: white !important;
      border-radius: 10px;
    }

    .footer-menu a.active i,
    .footer-menu a.active span {
      color: white !important;
    }

    .footer-menu a:hover {
      background-color: var(--pink-color) !important;
      color: white !important;
      border-radius: 10px;
    }
  }

  /* üîπ Footer Menu (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏ó‡∏ô Sidebar) */
  .footer-menu {
    display: none;
  }

  @media (max-width: 991px) {
    /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô Sidebar ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    .sidebar {
      display: none !important;
      width: 0 !important;
      min-height: 0 !important;
      border: none !important;
    }

    /* ‚úÖ Main-content ‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
    .main-content {
      margin-left: 0 !important;
      padding: 15px;
      width: 100%;
    }

    /* ‚úÖ ‡πÅ‡∏™‡∏î‡∏á Footer menu ‡πÅ‡∏ó‡∏ô */
    .footer-menu {
      display: flex;
      justify-content: space-around;
      align-items: center;
      background-color: #ffffff;
      border-top: 1px solid #ddd;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 8px 0;
      z-index: 1050;
    }

    .footer-menu a {
      text-align: center;
      color: #ff66c8;
      font-size: 12px;
      text-decoration: none;
      flex: 1;
      transition: color 0.2s ease;
    }

    .footer-menu a.active {
      color: #ff008b;
      font-weight: 600;
    }

    .footer-menu i {
      font-size: 18px;
      display: block;
      margin-bottom: 3px;
    }

    body {
      padding-bottom: 60px; /* ‚úÖ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô footer ‡∏ó‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
    }
  }

  /* ‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ä‡∏°‡∏û‡∏π‡∏´‡∏•‡∏±‡∏Å */
  .text-pink {
    color: #ff008b !important;
    font-weight: 700;
    text-shadow: 0 0 4px rgba(255, 102, 200, 0.3);
  }
</style>


{% comment %} <!--  Sidebar --> {% endcomment %}
 <div class="main-content">
<div class="sidebar shadow-sm">

    <div class="p-3 rounded">
      <center><small>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡∏£‡∏±‡∏ö</small>
      <h5 id="greeting" class="fw-bold mb-1">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ</h5>
      <h4 class="fw-bold text-pink">{{ user.phone|default:"099-XXX-XXXX" }}</h4>
</center>
    </div>
  </a>

  <div class="sidebar-section">
    <h6>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h6>
    <a href="/account/dashboard/" class="{% if request.path == '/account/dashboard/' %}active{% endif %}">
      <i class="fa fa-home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
    </a>
    <a href="/account/redeem/" class="{% if request.path == '/account/redeem/' %}active{% endif %}">
      <i class="fa fa-gift"></i> ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
    </a>
    <a href="/account/profile/" class="{% if request.path == '/account/profile/' %}active{% endif %}">
      <i class="fa fa-user"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
    </a>
    <a href="/account/address/" class="{% if request.path == '/account/address/' %}active{% endif %}">
      <i class="fa fa-map-marker-alt"></i> ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
    </a>
    {% comment %} <a href="/account/redeem/" class="{% if request.path == '/account/redeem/' %}active{% endif %}">
      <i class="fa fa-gift"></i> ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
    </a> {% endcomment %}
  </div>

  {% if user.is_staff or user.is_superuser %}
  <div class="sidebar-section">
    <h6>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h6>
    <a href="/account/coupon/" class="{% if request.path == '/account/coupon/' %}active{% endif %}">
      <i class="fa fa-ticket-alt"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á
    </a>
    {% comment %} <a href="/account/staff/promotion/" class="{% if request.path == '/account/staff/promotion/' %}active{% endif %}">
      <i class="fa fa-gem"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡∏ô
    </a> {% endcomment %}
    <a href="/account/staff/points/" class="{% if request.path == '/account/staff/points/' %}active{% endif %}">
      <i class="fa fa-gem"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πâ‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
    </a>
  </div>
  {% endif %}

  <a href="/account/logout/" class="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
</div>

{% comment %} <!--  Footer Menu (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ / iPad) --> {% endcomment %}
<nav class="footer-menu">
  <a href="/account/dashboard/" class="{% if request.path == '/account/dashboard/' %}active{% endif %}">
    <i class="fa fa-home"></i>
    <span>‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</span>
  </a>
  <a href="/account/redeem/" class="{% if request.path == '/account/redeem/' %}active{% endif %}">
    <i class="fa fa-gift"></i>
    <span>‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</span>
  </a>
  <a href="/account/profile/" class="{% if request.path == '/account/profile/' %}active{% endif %}">
    <i class="fa fa-user"></i>
    <span>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</span>
  </a>
  <a href="/account/address/" class="{% if request.path == '/account/address/' %}active{% endif %}">
    <i class="fa fa-map-marker-alt"></i>
    <span>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</span>
  </a>
  {% comment %} <a href="/account/redeem/" class="{% if request.path == '/account/redeem/' %}active{% endif %}">
    <i class="fa fa-gift"></i>
    <span>‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</span>
  </a> {% endcomment %}
  <a href="/account/logout/">
    <i class="fa fa-sign-out-alt"></i>
    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
  </a>
</nav>
</div>

{% comment %} <!--  Script: ‡∏Ñ‡∏≥‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢ --> {% endcomment %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const greetingEl = document.getElementById("greeting");
    if (!greetingEl) return;

    const hour = new Date().getHours();
    let greetingText = "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ";
    if (hour >= 5 && hour < 12) greetingText = "üåÖ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤";
    else if (hour >= 12 && hour < 18) greetingText = "üå§Ô∏è ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡∏ö‡πà‡∏≤‡∏¢";
    else greetingText = "üåô ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô";
    greetingEl.textContent = greetingText;
  });
</script>
