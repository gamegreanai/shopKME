<style>
/* üå∏ Coupon Card - Compact & Responsive */
.cpn {
  --cpn-bg: #ff008b;
  --cpn-fg: #ffffff;
  --cpn-side: #ff008b;
  --cpn-radius: 10px;

  position: relative;
  display: grid;
  grid-template-columns: 1fr 80px;
  border-radius: var(--cpn-radius);
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  isolation: isolate;

  width: 100%;
  max-width: 600px;
  margin: 10px auto;
  transition: all 0.2s ease-in-out;
}

.cpn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(255, 0, 139, 0.2);
}

/* üé® ‡∏™‡∏µ‡∏ò‡∏µ‡∏° */
.cpn--warn { --cpn-bg:#f5a623; --cpn-side:#e09313; --cpn-fg:#ffffff; }
.cpn--red  { --cpn-bg:#f44336; --cpn-side:#d33125; --cpn-fg:#ffffff; }
.cpn--light{ --cpn-bg:#ffffff; --cpn-side:#f0f2f5; --cpn-fg:#222222; }

/* üéü ‡∏™‡πà‡∏ß‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏ß‡∏≤ */
.cpn__left {
  background: var(--cpn-bg);
  color: var(--cpn-fg);
  padding: 10px 12px;
}

.cpn__right {
  background: var(--cpn-side);
  color: var(--cpn-fg);
  padding: 8px 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 3px;
}

/* ‡∏£‡∏π‡πÄ‡∏à‡∏≤‡∏∞‡∏Ç‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á */
.cpn::before, .cpn::after {
  content:"";
  position:absolute; top:50%; transform:translateY(-50%);
  width:14px; height:14px; border-radius:50%;
  background: #f6f7f9;
  z-index:2;
}
.cpn::before{ left:-7px; }
.cpn::after { right:-7px; }

/* üéØ ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Desktop) */
@media (min-width: 993px) {
  .cpn__kicker { font-size: 0.6rem; letter-spacing: .1em; font-weight: 500; }
  .cpn__off { font-size: 1.2rem; font-weight: 400; line-height: 1; }
  .cpn__desc { font-size: 0.75rem; }
  .cpn__code { font-size: 0.7rem; max-width: 60px; }

  .small, .lg, .xxl {
    font-size: 0.75rem !important;
  }
}

/* ‚úÖ Tablet */
@media (max-width: 992px) {
  .cpn {
    grid-template-columns: 1fr 70px;
    max-width: 480px;
  }
  .cpn__left { padding: 8px 10px; }
  .cpn__right { padding: 6px 5px; }
  .cpn__off { font-size: 1.1rem; }
  .cpn__desc, .cpn__code { font-size: 0.7rem; }
}

/* ‚úÖ Mobile */
@media (max-width: 768px) {
  .cpn {
    grid-template-columns: 1fr;
    max-width: 95%;
    margin: 8px auto;
  }

  .cpn__left {
    padding: 8px 10px;
    text-align: center;
  }

  .cpn__right {
    flex-direction: row;
    justify-content: space-around;
    padding: 5px;
  }

  .cpn__off { font-size: 1rem; }
  .cpn__kicker, .cpn__desc, .cpn__code { font-size: 0.65rem; }
  .small, .lg, .xxl { font-size: 0.7rem !important; }

  .cpn::before, .cpn::after { display: none; }
}

/* ‚úÖ Small Mobile */
@media (max-width: 480px) {
  .cpn {
    border-radius: 8px;
  }

  .cpn__left { padding: 6px 8px; }
  .cpn__right { padding: 4px; gap: 2px; }

  .cpn__off { font-size: 0.9rem; }
  .cpn__kicker, .cpn__desc, .cpn__code { font-size: 0.6rem; }
}
</style>



<div class="cpn {% if theme %}{{ theme }}{% endif %}">
  <div class="cpn__left">
    <div class="cpn__kicker">GIFT VOUCHER</div>

    {% if c.discount_type == 'PERCENT' %}
      <div class="cpn__off xxl">{{ c.percent_off|floatformat:0 }}% OFF</div>
    {% else %}
      <div class="cpn__off xxl">‡∏ø{{ c.percent_off|floatformat:0 }} OFF</div>
    {% endif %}

    <div class="cpn__desc lg mt-1">
      {% if c.min_spend and c.min_spend|floatformat:0 != '0' %}
        ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ‡∏ø{{ c.min_spend|floatformat:0 }}
      {% endif %}
    </div>

    <div class="small mt-2">
      ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏: {{ c.ends_at|date:"d/m/Y H:i" }} ‚Ä¢ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:
      {{ c.max_uses_per_user|default:"1" }}
    </div>
  </div>

  <div class="cpn__right">
    <div class="fw-bold small">COUPON</div>
    <div class="barcode" style="height: 18px; width: 50px; background:#fff3; border-radius:3px;"></div>
    <div class="cpn__code text-truncate">{{ c.name }}</div>
  </div>
</div>
