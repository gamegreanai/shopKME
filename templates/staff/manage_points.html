{% extends 'base/base.html' %}
{% load static %}
{% block title %}DDreamclinic{% endblock %}

{% block content %}
<div class="main-wrapper">
  <!-- ‚úÖ Navbar -->
  {% include 'base/navbar.html' %}

  <!-- ‚úÖ Sidebar -->
  {% include 'account/sidebar_profile.html' %}

  <!-- ‚úÖ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (Redeem ‡∏´‡∏£‡∏∑‡∏≠ Dashboard) -->
  <div class="main-content container-fluid py-4">
    <div class="card border-0 shadow-sm rounded-4 mb-4">
      <div class="card-body d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3">
        <div>
          <span class="badge bg-success rounded-pill px-3 py-2 fs-6">
            ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å: {{ meter.level }}
          </span>
          <span class="ms-2 text-muted">
            ‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏∞‡∏™‡∏°: <strong>{{ meter.points|default:0 }}</strong> pts
          </span>
        </div>
        <div class="progress-wrapper w-100 w-md-50" style="max-width: 520px;">
          <div class="d-flex justify-content-between small mb-1">
            <span>{{ meter.level }}</span>
            <span>{{ meter.progress_pct }}%</span>
          </div>
          <div class="progress" style="height: 10px;">
            <div class="progress-bar bg-success" style="width: {{ meter.progress_pct }}%;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- üå∏ CSS ‡∏õ‡∏£‡∏±‡∏ö Layout ‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå -->
<style>
  body {
    background-color: #f8f9fa;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  /* ‚úÖ ‡∏à‡∏±‡∏î Layout ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
  .main-wrapper {
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  /* ‚úÖ Navbar */
  .navbar {
    position: fixed !important;
    top: 0;
    left: 0;
    width: 100%;
    height: 110px;
    z-index: 1100;
  }

  /* ‚úÖ Sidebar */
  .sidebar {
    position: fixed !important;
    top: 110px; /* ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ï‡πâ Navbar */
    left: 0;
    width: 280px;
    height: calc(100vh - 110px);
    background-color: #fff;
    border-right: 1px solid #ddd;
    overflow-y: auto;
    z-index: 1040;
  }

  /* ‚úÖ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
  .main-content {
    margin-top: 130px; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Navbar ‡∏ó‡∏±‡∏ö */
    margin-left: 280px; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Sidebar ‡∏ó‡∏±‡∏ö */
    padding: 2rem;
    transition: all 0.3s ease;
  }

  /* ‚úÖ Responsive (Tablet / Mobile) */
  @media (max-width: 991px) {
    .sidebar {
      display: none !important;
    }

    .main-content {
      margin-left: 0 !important;
      margin-top: 120px !important;
      padding: 1rem;
    }
  }

  @media (max-width: 768px) {
    .navbar {
      height: 90px;
    }

    .main-content {
      margin-top: 100px !important;
      padding: 0.8rem;
    }
  }

  /* ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏à‡∏£‡∏¥‡∏á */
  .card {
    border-radius: clamp(10px, 2vw, 18px);
  }

  .badge {
    font-size: clamp(0.8rem, 2vw, 1rem);
    padding: clamp(0.3rem, 1vw, 0.6rem) clamp(0.8rem, 2vw, 1.2rem);
  }

  .progress {
    height: clamp(8px, 1vw, 12px);
  }

  .progress-bar {
    transition: width 0.5s ease-in-out;
  }

  span, p, h5, h6 {
    font-size: clamp(0.9rem, 2vw, 1.2rem);
  }
</style>
{% endblock %}
